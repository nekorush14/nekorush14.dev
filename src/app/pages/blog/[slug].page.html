<main class="px-4 py-12 md:py-16">
  @if (post$ | async; as post) {
    <article class="mx-auto max-w-3xl animate-fade-in">
      <header class="mb-10">
        <h1 class="font-display text-3xl font-bold text-on-surface md:text-4xl">
          {{ post.attributes.title }}
        </h1>
        <time class="mt-3 block text-on-surface-variant">
          {{ post.attributes.date | date:'yyyy-MM-dd' }}
        </time>
        @if (post.attributes.tags && post.attributes.tags.length > 0) {
          <ul class="tag-list mt-4" aria-label="Tags">
            @for (tag of post.attributes.tags; track tag) {
              <li>
                <span class="tag">{{ tag }}</span>
              </li>
            }
          </ul>
        }
      </header>

      <div class="prose">
        <analog-markdown [content]="post.content" />
      </div>

      <footer class="mt-16 border-t border-outline-variant pt-8">
        <a routerLink="/blog" class="link">
          ← 記事一覧に戻る
        </a>
      </footer>
    </article>
  } @else {
    <!-- Loading Skeleton -->
    <div class="mx-auto max-w-3xl">
      <div class="animate-pulse space-y-4">
        <div class="h-10 w-3/4 rounded-md bg-surface-container-high"></div>
        <div class="h-4 w-1/4 rounded bg-surface-container-high"></div>
        <div class="mt-8 space-y-3">
          <div class="h-4 rounded bg-surface-container-high"></div>
          <div class="h-4 rounded bg-surface-container-high"></div>
          <div class="h-4 w-2/3 rounded bg-surface-container-high"></div>
        </div>
      </div>
    </div>
  }
</main>

<main class="px-4 py-12 md:py-16">
  <div class="mx-auto max-w-3xl">
    <header class="mb-12 animate-fade-in">
      <h1 class="font-display text-3xl font-bold text-on-surface md:text-4xl">
        Blog
      </h1>
      <p class="mt-2 text-on-surface-variant">技術の話や技術に関わらない話をします。</p>
    </header>

    <ul class="space-y-6">
      @for (post of posts; track post.slug; let i = $index) {
        <li
          class="animate-slide-up"
          [style.animation-delay]="i * 50 + 'ms'"
        >
          <a
            [routerLink]="['/blog', post.slug]"
            class="blog-card"
          >
            @if (post.attributes.coverImage) {
              <div class="blog-card-image-container">
                <img
                  [ngSrc]="post.attributes.coverImage"
                  [alt]="post.attributes.title"
                  fill
                  class="blog-card-image"
                />
              </div>
            }
            <div class="blog-card-content">
              <h2 class="text-xl font-semibold text-on-surface">
                {{ post.attributes.title }}
              </h2>
              <time class="mt-1 block text-sm text-on-surface-variant">
                {{ post.attributes.date | date:'yyyy-MM-dd' }}
              </time>
              @if (post.attributes.tags && post.attributes.tags.length > 0) {
                <ul class="tag-list mt-2" aria-label="Tags">
                  @for (tag of post.attributes.tags; track tag) {
                    <li>
                      <span class="tag">{{ tag }}</span>
                    </li>
                  }
                </ul>
              }
              <p class="mt-3 line-clamp-2 text-on-surface-variant">
                {{ post.attributes.description }}
              </p>
            </div>
          </a>
        </li>
      } @empty {
        <li class="card text-on-surface-variant">記事がありません</li>
      }
    </ul>
  </div>
</main>
